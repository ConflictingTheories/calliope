{"version":3,"sources":["assets/logo.svg","modules/utils/splash.jsx","helpers/authHelper.ts","modules/utils/authRouter.jsx","services/content.jsx","components/nav/index.jsx","components/menu/index.jsx","theme/jsx/index.jsx","plugins/index.jsx","components/post/index.jsx","components/edit/index.jsx","modules/home/index.jsx","helpers/apiHelper.ts","services/auth.ts","modules/utils/splashWrapper.jsx","modules/login/index.jsx","modules/login/logout.jsx","modules/admin/index.jsx","App.jsx","serviceWorker.ts","index.jsx","theme/index.js"],"names":["module","exports","SplashScreen","ref","useRef","Date","toDateString","useEffect","canvas","current","initializeTheme","arr","quote","quotes","Math","random","length","className","src","logo","alt","text","style","textAlign","fontStyle","author","Authenticator","user","JSON","parse","localStorage","getItem","authdata","Authorization","e","clearAuthData","sessionStorage","CalliopeUser","is_authorized","is_admin","setItem","stringify","removeItem","AuthenticatedRoute","component","rest","MyComp","React","Component","render","props","isAuthenticated","to","pathname","state","from","location","pages","a","fetch","config","json","posts","save","post","content","type","method","body","exportZip","then","res","blob","Swal","fire","title","showCancelButton","isConfirmed","FileSaver","saveAs","ArchNavBar","console","log","isLogin","isAdmin","renderAdmin","renderBrand","renderBar","renderRight","Fragment","Heading","process","Divider","icon","onClick","this","Group","align","Alignment","LEFT","RIGHT","collect","SideMenu","store","renderers","image","maxWidth","padding","code","language","value","synthwave84","children","shortcode","identifier","ipfsStream","attributes","ipfsHash","audioOnly","Audio","Video","MermaidDiagram","diagram","BlockWorld","networkString","Pixos","inlineMath","math","parseHtml","htmlParser","isValidNode","node","processingInstructions","Post","t","hideEmbed","fileResponse","ok","setState","nextProps","url","window","protocol","host","replaceAll","embedLink","customClass","background","html","astPlugins","escapeHtml","parserOptions","gfm","plugins","shortcodes","startBlock","endBlock","inlineMode","emoji","a11yEmoji","headings","allowDangerousHtml","margin","float","showEmbed","error","EditMarkdown","saveChanges","bind","selectedContent","selectedPost","selectedType","isSaved","Container","Row","Col","sm","md","lg","Panel","bordered","bodyFill","height","overflow","width","minHeight","preview","autoFocus","visiableDragbar","onChange","commands","bold","hr","italic","divider","fullscreen","previewOptions","slug","Paragraph","Placeholder","Dashboard","edit","create","fetchLists","fetchPost","renderPosts","renderPages","profilePanel","renderPanel","show","isEditting","setTimeout","Notification","open","description","rows","resultPosts","resultPages","name","date","toISOString","split","formattedName","editPost","showDenyButton","confirmButtonText","denyButtonText","result","isDenied","input","inputPlaceholder","newFile","List","map","Item","replace","navigator","clipboard","writeText","page","Content","display","flex","flexDirection","activeKey","flexShrink","flexGrow","renderClientSelect","marginTop","ApiHelper","handleResponse","response","status","logout","data","message","statusText","Promise","reject","ADMIN_HOST","port","parseInt","ADMIN_PORT","ver","API_VERSION","get","path","queryObj","requestOptions","headers","authHeader","query","Object","keys","x","join","bodyObj","check","isAuth","AuthHelper","username","password","reqBody","WrappedComponent","Login","submitted","loading","handleChange","handleSubmit","auth","history","push","target","preventDefault","login","Header","FlexboxGrid","justify","colspan","backgroundColor","Sidebar","Form","fluid","onSubmit","label","helperText","Classes","INTENT_DANGER","leftIcon","ButtonToolbar","disabled","minimal","intent","Intent","DANGER","Logout","Logo","withSplashScreen","class","exact","AdminScreen","LogoutScreen","LoginScreen","PublicScreen","id","href","err","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","document","getElementById","URL","origin","addEventListener","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","c","w","innerWidth","h","innerHeight","ctx","getContext","lines","frame","timeSinceLast","dirs","starter","y","vx","vy","init","i","Line","fillStyle","fillRect","lineCap","getColor","parent","dir","dist","prototype","step","dead","prevX","prevY","strokeStyle","shadowColor","beginPath","lineWidth","moveTo","lineTo","stroke","anim","requestAnimationFrame","b","d","shadowBlur","splice","fill","light","primaryColor","secondaryColor","dark","textColor","linkColor","green","orange","yellow","darkGray","midGray","lightGray","slateGray","primaryGrad","secondaryGrad","coldGray","rustGray","warmGray","fonts","onResize"],"mappings":"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","file":"static/js/main.f2e5946a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.1b010ed1.svg\";","/*                                                 *\\\n** ----------------------------------------------- **\n**             Calliope - Site Generator   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2021 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport React, { useRef, useEffect } from \"react\";\nimport { initializeTheme } from \"../../theme\";\n\n// ASSETS & APP STYLES\nimport quotes from \"../../assets/quotes.json\";\nimport logo from \"../../assets/logo.svg\";\nimport \"../../theme/less/App.less\";\n// Random Index\nfunction randomFrom(arr) {\n  const index = ~~((Math.random() * arr.length) % arr.length);\n  return arr[index];\n}\n// Splash Screen\nexport default function SplashScreen() {\n  // Initialize Canvas for Theme\n  const ref = useRef();\n  const date = new Date().toDateString();\n  useEffect(() => {\n    let canvas = ref.current;\n    initializeTheme(canvas);\n  });\n  const quote = randomFrom(quotes);\n  return (\n    <div className=\"App\">\n      <canvas ref={ref} />\n      <header className=\"App-splash container\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>{quote.text}</p>\n        <p style={{ textAlign: \"left\", fontStyle: \"italic\" }}>\n          ~{quote.author}\n        </p>\n      </header>\n    </div>\n  );\n}\n","/*\n * ---------------------------- *\n *                              *\n * 2020 (c) Kyle Derby MacInnis *\n *                              *\n * ---------------------------- *\n */\n\n// import { session } from \"electron\";\n\n// Auth Helper Class\nclass Authenticator {\n  // Return Auth Header with Token\n  static authHeader() {\n    try {\n      let user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n      if (user && user.authdata)\n        return { Authorization: \"Basic \" + user.authdata };\n      else return { Authorization: \"\" };\n    } catch (e) {\n      Authenticator.clearAuthData();\n      return { Authorization: \"\" };\n    }\n  }\n\n  // Checkf for Auth Status\n  static isAuthenticated() {\n    if (!sessionStorage.user && !localStorage.user) {\n      return false;\n    } else {\n      try {\n        var CalliopeUser = JSON.parse(sessionStorage.user || localStorage.user);\n        if (CalliopeUser && CalliopeUser.is_authorized) return true;\n        else return false;\n      } catch (e) {\n        Authenticator.clearAuthData();\n        return false;\n      }\n    }\n  }\n\n  // Check for Admin Status\n  static isAdmin() {\n    if (!sessionStorage.user && !localStorage.user) {\n      return false;\n    } else {\n      try {\n        var CalliopeUser = JSON.parse(sessionStorage.user || localStorage.user);\n        if (CalliopeUser && CalliopeUser.is_admin) return true;\n        else return false;\n      } catch (e) {\n        Authenticator.clearAuthData();\n        return false;\n      }\n    }\n  }\n\n  // Set Auth Data\n  static setAuthData(authdata: any) {\n    localStorage.setItem(\"user\", JSON.stringify(authdata));\n    sessionStorage.setItem(\"user\", JSON.stringify(authdata));\n  }\n\n  // Clear Auth Data\n  static clearAuthData() {\n    localStorage.removeItem(\"user\");\n    sessionStorage.removeItem(\"user\");\n  }\n}\n\nexport default Authenticator;\n","/*                                                 *\\\n** ----------------------------------------------- **\n**             Calliope - Site Generator   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2021 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport React from 'react';\n\nimport { Route, Redirect, RouteProps } from 'react-router-dom';\n\n// Authenticator\nimport Authenticator from '../../helpers/authHelper'\n\n// Wrapper for Router\nexport const AuthenticatedRoute = ({component,...rest}) =>{\n    let MyComp = component || React.Component;\n    return (\n    <Route {...rest} render={(props)=>\n        Authenticator.isAuthenticated()\n            ? <MyComp {...props} />\n            : <Redirect to={{ pathname: '/home', state: { from: props.location } }} />} />\n    )\n};","/*                                            *\\\n** ------------------------------------------ **\n**         Calliope - Site Generator   \t      **\n** ------------------------------------------ **\n**  Copyright (c) 2020 - Kyle Derby MacInnis  **\n**                                            **\n** Any unauthorized distribution or transfer  **\n**    of this work is strictly prohibited.    **\n**                                            **\n**           All Rights Reserved.             **\n** ------------------------------------------ **\n\\*                                            */\n\nimport * as config from \"../config/runtime.json\";\nimport FileSaver from \"file-saver\";\nimport Swal from \"sweetalert2\";\nimport \"sweetalert2/dist/sweetalert2.css\";\n\nexport async function pages() {\n  return await (await fetch(config.pages)).json();\n}\n\nexport async function posts() {\n  return await (await fetch(config.posts)).json();\n}\n\nexport async function save(post, content, type) {\n  return await (\n    await fetch(config.save, {\n      method: \"POST\",\n      body: JSON.stringify({ content, post: `${type}/${post}` }),\n    })\n  ).json();\n}\n\nexport async function exportZip() {\n  return await fetch(config.export).then(async (res) => {\n    let blob = await res.blob();\n    Swal.fire(\"Generated!\", \"\", \"success\");\n    let result = await Swal.fire({\n      title: \"Download Zip\",\n      showCancelButton: true,\n    });\n    if (result.isConfirmed) {\n      FileSaver.saveAs(blob, \"Archive.zip\");\n    }\n  });\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**             Calliope - Site Generator   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2021 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport React from \"react\";\nimport { collect } from \"react-recollect\";\nimport { Link } from \"react-router-dom\";\n\n// BLUEPRINT STYLES UI LIBRARY\nimport { Button, Colors, Navbar, Alignment } from \"@blueprintjs/core\";\nimport \"@blueprintjs/core/lib/css/blueprint.css\";\nimport \"@blueprintjs/icons/lib/css/blueprint-icons.css\";\n\n// ASSETS & APP STYLES\nimport \"../../theme/less/App.less\";\nimport { exportZip } from \"../../services/content\";\n\n// APP\nclass ArchNavBar extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(props);\n    this.state = {\n      isLogin: props.isLogin || false,\n      isAdmin: props.isAdmin || false,\n      renderAdmin: props.renderAdmin || this.renderAdmin,\n      renderBrand: props.renderBrand || this.renderBrand,\n      renderBar: props.renderBar || this.renderBar,\n      renderRight: props.renderRight || this.renderRight,\n    };\n  }\n\n  renderBrand() {\n    return (\n      <React.Fragment>\n        <Navbar.Heading>{process.env.REACT_APP_SITE_TITLE}</Navbar.Heading>\n        <Navbar.Divider />\n      </React.Fragment>\n    );\n  }\n\n  renderBar() {\n    return (\n      <React.Fragment>\n        <Link to=\"/\">\n          <Button className=\"bp3-minimal\" icon=\"home\" text=\"Home\" />\n        </Link>\n      </React.Fragment>\n    );\n  }\n\n  renderRight() {\n    return <React.Fragment></React.Fragment>;\n  }\n\n  renderAdmin() {\n    return (\n      <React.Fragment>\n        <button\n          onClick={async () => {\n            await exportZip();\n          }}\n        >\n          Download Zip\n        </button>\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    return this.state.isLogin ? (\n      <Navbar className=\"App-nav\">\n        <Navbar.Group align={Alignment.LEFT}>\n          {this.state.renderBrand()}\n        </Navbar.Group>\n        <Navbar.Group align={Alignment.RIGHT}>\n          {this.state.renderRight()}\n        </Navbar.Group>\n      </Navbar>\n    ) : this.state.isAdmin ? (\n      <Navbar className=\"App-nav\">\n        <Navbar.Group align={Alignment.LEFT}>\n          {this.state.renderBrand()}\n        </Navbar.Group>\n        <Navbar.Group align={Alignment.RIGHT}>\n          {this.state.renderAdmin()}\n        </Navbar.Group>\n      </Navbar>\n    ) : (\n      <Navbar className=\"App-nav\">\n        <Navbar.Group align={Alignment.LEFT}>\n          {this.state.renderBrand()}\n          {this.state.renderBar()}\n        </Navbar.Group>\n        <Navbar.Group align={Alignment.RIGHT}>\n          {this.state.renderRight()}\n        </Navbar.Group>\n      </Navbar>\n    );\n  }\n}\n\nexport default collect(ArchNavBar);\n","/*                                                 *\\\n** ----------------------------------------------- **\n**             Calliope - Site Generator   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2021 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport React, { Component } from \"react\";\nimport { collect } from \"react-recollect\";\n\nclass SideMenu extends Component {\n  constructor(props) {\n    super(props);\n    this.store = props.store;\n    this.state = {};\n  }\n\n  componentDidMount() {}\n\n  componentWillUnmount() {}\n\n  render() {\n    return <React.Fragment></React.Fragment>;\n  }\n}\n\nexport default collect(SideMenu);\n","/*                                                 *\\\n** ----------------------------------------------- **\n**             Calliope - Site Generator   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2021 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport React from \"react\";\n\n// Code Highlighting\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport { synthwave84 } from \"react-syntax-highlighter/dist/esm/styles/prism\";\n// Math Latex Support\nimport { InlineMath, BlockMath } from \"react-katex\";\nimport \"katex/dist/katex.min.css\";\n// Plugins\nimport plugins from \"../../plugins\";\n\n// Customization for Markdown Rendering (react-markdown)\nexport const renderers = {\n  image: ({ alt, src, title }) => (\n    <img\n      alt={alt}\n      src={src}\n      title={title}\n      style={{ maxWidth: \"100%\", padding: 0 }}\n    />\n  ),\n  code: ({ language, value }) => {\n    return (\n      <SyntaxHighlighter\n        style={synthwave84}\n        language={language}\n        children={value || \"\"}\n      />\n    );\n  },\n  shortcode: plugins,\n  inlineMath: ({ value }) => <InlineMath math={value} />,\n  math: ({ value }) => <BlockMath math={value} />,\n};\n\nexport default { renderers };\n","/*                                                 *\\\n** ----------------------------------------------- **\n**             Calliope - Site Generator   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2021 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nimport React from \"react\";\n// Plugins\nimport ipfsStream from \"calliope-ipfs-stream\";\nimport MermaidDiagram from \"calliope-mermaid\";\nimport BlockWorld from \"calliope-blockworld\";\nimport Pixos from \"calliope-pixos\";\n\n// TODO - Add Theme Injection Somehow (Or Wrapper)\n\nexport default function plugins(props) {\n  console.log(props);\n  switch (props.identifier) {\n    // IPFS Video Streams (HLS)\n    case \"ipfsStream\":\n      console.log(ipfsStream);\n      let { ipfsHash, audioOnly } = props.attributes;\n      if (audioOnly) {\n        return <ipfsStream.Audio ipfsHash={ipfsHash} />;\n      } else {\n        return <ipfsStream.Video ipfsHash={ipfsHash} />;\n      }\n    // Mermaid Diagrams\n    case \"mermaid\":\n      console.log(MermaidDiagram);\n      let { diagram } = props.attributes;\n      if (diagram) {\n        return <MermaidDiagram diagram={diagram} />;\n      } else {\n        return <></>;\n      }\n    // Blockworld Diagrams\n    case \"blockworld\":\n      console.log(BlockWorld);\n      let { networkString } = props.attributes;\n      if (networkString) {\n        return <BlockWorld networkString={networkString} />;\n      } else {\n        return <></>;\n      }\n    // Pixos\n    case \"pixos\":\n      console.log(Pixos);\n      return <Pixos />;\n    default:\n      return <>{JSON.stringify(props)}</>;\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**             Calliope - Site Generator   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2021 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport React, { Component } from \"react\";\nimport { collect } from \"react-recollect\";\n\nimport ReactMarkdownWithHtml from \"react-markdown/with-html\";\n\nimport htmlParser from \"react-markdown/plugins/html-parser\";\n\nimport math from \"remark-math\";\nimport a11yEmoji from \"@fec/remark-a11y-emoji\";\nimport html from \"remark-html\";\nimport emoji from \"remark-emoji\";\nimport headings from \"remark-autolink-headings\";\nimport shortcodes from \"remark-shortcodes\";\n\nimport { renderers } from \"../../theme/jsx\";\nimport { Icon } from \"@blueprintjs/core\";\nimport Swal from \"sweetalert2\";\nimport \"@sweetalert2/themes/dark/dark.css\";\n\nconst parseHtml = htmlParser({\n  isValidNode: (node) => node.type !== \"script\",\n  processingInstructions: [\n    /* ... */\n  ],\n});\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      src: props.src || \"\",\n      type: props.t || \"posts\",\n      hideEmbed: props.hideEmbed,\n      content: null,\n    };\n  }\n\n  async componentDidMount() {\n    //Fetch Source and Render Content\n    if (this.state.src && this.state.src !== \"\") {\n      const fileResponse = await fetch(\n        \"/content/\" + this.state.type + \"/\" + this.state.src\n      );\n      if (fileResponse.ok) {\n        let content = await fileResponse.text();\n        this.setState({ content });\n      } else {\n        this.setState({\n          content:\n            \"# 404\\n## Page Not Found\\n\\nSorry, but that page does not exist. 😬😬😬\",\n        });\n      }\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props != nextProps) {\n      this.setState({\n        content: nextProps.content,\n      });\n    }\n  }\n\n  async showEmbed(type, src) {\n    // Url to Post\n    let url = `${window.location.protocol}//${\n      window.location.host\n    }/embed/${type}/${src.replaceAll(\".md\", \"\")}`;\n    console.log(type, src, url);\n    // Iframe Link\n    let embedLink = `\n    <iframe style=\"margin-top: 20px; margin-bottom: 30px;-moz-border-radius: 12px;\n    -webkit-border-radius: 12px; border-radius: 12px; -moz-box-shadow: 4px 4px 14px #000;-webkit-box-shadow: 4px 4px 14px #000;\n    box-shadow: 4px 4px 14px #000;filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=.2);\" \n    src=\"${url}\" height=\"448\" width=\"448\"></iframe>`;\n    // Popup\n    await Swal.fire({\n      customClass: \"calliope-modal calliope-post\",\n      background: \"rgba(4, 21, 27, 0.99)\",\n      title: \"Embed and Share!\",\n      html: `<div><p>Link to this Post using the URL below</p>\n        <br/><input class=\"calliope-input\" type=\"text\" value=\"${url}\"/>\n        <br/><br/><p>Or paste this inside of any HTML website</p>\n        <br/><textarea style=\"height:144px\" class=\"calliope-input\" >${embedLink}</textarea>\n        </div>`,\n    });\n  }\n\n  render() {\n    const { content, src, type, hideEmbed } = this.state;\n    let res = null;\n    try {\n      res = (\n        <React.Fragment className=\"calliope-post\">\n          <hr />\n          <ReactMarkdownWithHtml\n            astPlugins={[parseHtml]}\n            escapeHtml={false}\n            parserOptions={{ gfm: true }}\n            plugins={[\n              [\n                shortcodes,\n                { startBlock: \"[[\", endBlock: \"]]\", inlineMode: true },\n              ],\n              emoji,\n              a11yEmoji,\n              math,\n              headings,\n              html,\n            ]}\n            children={content || \"\"}\n            renderers={renderers}\n            allowDangerousHtml\n          />\n          <hr />\n          {hideEmbed ?? (\n            <footer>\n              <a\n                className={\"calliope-share\"}\n                style={{\n                  margin: \"5px 1em 2.5em 0\",\n                  padding: \"0.5em\",\n                  float: \"right\",\n                }}\n                onClick={() => this.showEmbed(type, src)}\n              >\n                Share Post&nbsp;&nbsp;\n                <Icon icon=\"share\" title=\"Embed Post\"></Icon>\n              </a>\n            </footer>\n          )}\n        </React.Fragment>\n      );\n    } catch (e) {\n      console.error(e);\n    }\n    return res;\n  }\n}\n\nexport default collect(Post);\n","/*                                                 *\\\n** ----------------------------------------------- **\n**             Calliope - Site Generator   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2021 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport React, { Component } from \"react\";\nimport { collect, store } from \"react-recollect\";\n\nimport MDEditor, { commands } from \"@uiw/react-md-editor\";\nimport htmlParser from \"react-markdown/plugins/html-parser\";\n\n// RSuite UI Library\nimport { Panel, Row, Col, Container } from \"rsuite\";\nimport \"rsuite/dist/styles/rsuite-default.css\";\n\nimport math from \"remark-math\";\nimport a11yEmoji from \"@fec/remark-a11y-emoji\";\nimport html from \"remark-html\";\nimport slug from \"remark-slug\";\nimport emoji from \"remark-emoji\";\nimport headings from \"remark-autolink-headings\";\nimport shortcodes from \"remark-shortcodes\";\n\nimport { renderers } from \"../../theme/jsx\";\nimport { save } from \"../../services/content\";\nimport Post from \"../post\";\n\nconst parseHtml = htmlParser({\n  isValidNode: (node) => node.type !== \"script\",\n  processingInstructions: [\n    /* ... */\n  ],\n});\n\nclass EditMarkdown extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      content: props.content || \"please start your edits :)\",\n    };\n    this.saveChanges = this.saveChanges.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props != nextProps) {\n      this.setState({\n        content: nextProps.content,\n      });\n    }\n  }\n\n  // Write Content Back out to File\n  async saveChanges() {\n    store.selectedContent = this.state.content;\n    await save(store.selectedPost, store.selectedContent, store.selectedType);\n    store.isSaved = true;\n  }\n\n  render() {\n    const { content } = this.state;\n    let res = null;\n    return (\n      <Container>\n        <Row>\n          <Col sm={12} md={12} lg={12}>\n            <Panel\n              bordered\n              bodyFill\n              style={{\n                height: \"87vh\",\n                overflow: \"overlay\",\n                background: \"#121216\",\n                width: \"100%\",\n              }}\n            >\n              <Container style={{ minHeight: \"100%\" }}>\n                <MDEditor\n                  style={{ height: \"100%\", minHeight: \"87vh\" }}\n                  height={\"100%\"}\n                  preview={\"edit\"}\n                  value={content}\n                  autoFocus={false}\n                  visiableDragbar={false}\n                  onChange={(value) => {\n                    store.selectedContent = value;\n                    store.isSaved = false;\n                    this.setState({ content: value });\n                  }}\n                  // Toolbar Settings\n                  commands={[\n                    commands.bold,\n                    commands.hr,\n                    commands.italic,\n                    commands.divider,\n                    commands.fullscreen,\n                  ]}\n                  // Markdown Options\n                  previewOptions={{\n                    astPlugins: [parseHtml],\n                    escapeHtml: false,\n                    parserOptions: { gfm: true },\n                    plugins: [\n                      [\n                        shortcodes,\n                        {\n                          startBlock: \"[[\",\n                          endBlock: \"]]\",\n                          inlineMode: true,\n                        },\n                      ],\n                      emoji,\n                      a11yEmoji,\n                      math,\n                      slug,\n                      headings,\n                      html,\n                    ],\n                    renderers: renderers,\n                    // allowDangerousHtml: true,\n                  }}\n                />\n              </Container>\n            </Panel>\n          </Col>\n          <Col sm={12} md={12} lg={12}>\n            <Panel\n              bordered\n              style={{\n                height: \"87vh\",\n                overflow: \"overlay\",\n                background: \"#121216\",\n                width: \"100%\",\n              }}\n            >\n              <Post hideEmbed={true} content={content} />\n            </Panel>\n          </Col>\n        </Row>\n        <Row>\n          <button onClick={() => this.saveChanges()}>Save Changes</button>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default collect(EditMarkdown);\n","import React from \"react\";\nimport { collect, store } from \"react-recollect\";\n\n// RSuite UI Library\nimport {\n  Container,\n  Content,\n  Panel,\n  Row,\n  Col,\n  Notification,\n  Placeholder,\n  List,\n} from \"rsuite\";\nimport \"rsuite/dist/styles/rsuite-default.css\";\n// Blueprint\nimport { NonIdealState, Tabs, Tab, Icon } from \"@blueprintjs/core\";\nimport \"@blueprintjs/core/lib/css/blueprint.css\";\nimport \"@blueprintjs/icons/lib/css/blueprint-icons.css\";\n// Misc\nimport Swal from \"sweetalert2\";\nimport \"@sweetalert2/themes/dark/dark.min.css\";\n\n// Components\nimport NavBar from \"../../components/nav\";\nimport SideMenu from \"../../components/menu\";\nimport MarkdownEdit from \"../../components/edit\";\n\n// ASSETS & APP STYLES\nimport \"../../theme/less/App.less\";\n\n//SERVICES\nimport { posts, pages, save } from \"../../services/content\";\n\nconst { Paragraph } = Placeholder;\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.edit = this.edit.bind(this);\n    this.create = this.create.bind(this);\n    this.fetchLists = this.fetchLists.bind(this);\n    this.fetchPost = this.fetchPost.bind(this);\n    this.renderPosts = this.renderPosts.bind(this);\n    this.renderPages = this.renderPages.bind(this);\n    this.profilePanel = this.renderPanel.bind(this);\n  }\n\n  async componentDidMount() {\n    // Fetch & Render Posts\n    store.show = false;\n    store.isEditting = false;\n    store.isSaved = true;\n    await this.fetchLists();\n    setTimeout(\n      () =>\n        Notification.open({\n          title: \"Welcome to Calliope\",\n          description: <Paragraph width={320} rows={3} />,\n        }),\n      ~~(Math.random() * 10000)\n    );\n  }\n\n  async fetchLists() {\n    const resultPosts = await posts();\n    const resultPages = await pages();\n    store.posts = resultPosts;\n    store.pages = resultPages;\n  }\n\n  async create(type, name = \"untitled\") {\n    // New Post\n    if (name === \"\") {\n      name = \"untitled\";\n    }\n    const date = new Date().toISOString().split(\".\")[0].replaceAll(/[:-]/g, \"\"); // Date format (ISO - No TZ - Minimized)\n    const formattedName = `${date}_${name}.md`;\n    await save(formattedName, \"\", type); // Create Blank File\n    await this.fetchLists();\n    return formattedName;\n  }\n\n  async edit(post, type) {\n    store.editPost = post;\n    store.selectedType = type;\n    // Prompt to Save if Changing\n    if (store.selectedPost != post && store.isEditting && !store.isSaved) {\n      this.saveChanges();\n    } else {\n      // Fetch Post & Store Content\n      if (post && post !== \"\" && store.selectedPost != post) {\n        this.fetchPost(post, type);\n      }\n    }\n  }\n\n  async fetchPost(post, type) {\n    const fileResponse = await fetch(\"/content/\" + type + \"/\" + post);\n    if (fileResponse.ok) {\n      let content = await fileResponse.text();\n      store.selectedType = type;\n      store.selectedPost = post;\n      store.selectedContent = content;\n      store.isEditting = true;\n      store.isSaved = true;\n    }\n  }\n\n  async saveChanges() {\n    let result = await Swal.fire({\n      title: \"Do you want to save the changes?\",\n      showDenyButton: true,\n      showCancelButton: true,\n      confirmButtonText: `Save`,\n      denyButtonText: `Don't save`,\n    });\n    if (result.isConfirmed) {\n      await save(store.selectedPost, store.selectedContent, store.selectedType);\n      Swal.fire(\"Saved!\", \"\", \"success\");\n      await this.fetchPost(store.editPost, store.selectedType);\n    } else if (result.isDenied) {\n      Swal.fire(\"Changes are not saved\", \"\", \"info\");\n      await this.fetchPost(store.editPost,store.selectedType);\n    }\n  }\n\n  async newFile() {\n    let result = await Swal.fire({\n      title: \"Please enter the name of the new file\",\n      input: \"text\",\n      inputPlaceholder: \"untitled\",\n      showCancelButton: true,\n      confirmButtonText: `Create`,\n    });\n    if (result.isConfirmed) {\n      let newFile = await this.create(store.selectedType, result.value);\n      Swal.fire(\"Created!\", \"\", \"success\");\n      await this.fetchPost(newFile);\n    }\n  }\n\n  renderPosts() {\n    return (\n      <React.Fragment>\n        <Row>\n          <Container className=\"calliope-list-item\">\n            <List>\n              {store.posts &&\n                store.posts?.map((post) => {\n                  return (\n                    <List.Item>\n                      <label>\n                        <a onClick={() => this.edit(post, \"posts\")}>\n                          {post.replace(/\\d+T\\d+_/, \"\")}\n                        </a>{\" \"}\n                        <a\n                          onClick={async () =>{\n                            await navigator.clipboard.writeText(`/embed/posts/${post.replace(\".md\",\"\")}`);\n                            await Swal.fire(\"Link Copied!\", \"\", \"success\");\n                          }}\n                        >\n                          <Icon icon=\"link\"></Icon>\n                        </a>\n                      </label>\n                    </List.Item>\n                  );\n                })}\n            </List>\n          </Container>\n        </Row>\n      </React.Fragment>\n    );\n  }\n\n  renderPages() {\n    return (\n      <React.Fragment>\n        <Row>\n          <Container className=\"calliope-list-item\">\n            <List>\n              {store.pages &&\n                store.pages?.map((page) => {\n                  return (\n                    <List.Item>\n                      <label>\n                        <a onClick={() => this.edit(page, \"pages\")}>\n                          {page.replace(/\\d+T\\d+_/, \"\")}\n                        </a>{\" \"}\n                        <a\n                            onClick={async () =>{\n                              await navigator.clipboard.writeText(`/embed/pages/${page.replace(\".md\",\"\")}`);\n                              await Swal.fire(\"Link Copied!\", \"\", \"success\");\n                            }                          }\n                        >\n                          <Icon icon=\"link\"></Icon>\n                        </a>\n                      </label>\n                    </List.Item>\n                  );\n                })}\n            </List>\n          </Container>\n        </Row>\n      </React.Fragment>\n    );\n  }\n  // PANELS & COMPONENTS\n  renderPanel() {\n    let content = store.selectedContent;\n    return (\n      <Panel style={{ width: \"100%\", maxWidth: \"100vw\" }}>\n        <Content>\n          <Row>\n            <Col md={4}>\n              <details open>\n                <summary>\n                  Posts{\" \"}\n                  <button\n                    onClick={async () => {\n                      store.selectedType = \"posts\";\n                      await this.newFile();\n                    }}\n                  >\n                    + Add New Post\n                  </button>\n                </summary>\n                {this.renderPosts()}\n              </details>\n              <details open>\n                <summary>\n                  Pages{\" \"}\n                  <button\n                    onClick={async () => {\n                      store.selectedType = \"pages\";\n                      await this.newFile();\n                    }}\n                  >\n                    + Add New Page\n                  </button>\n                </summary>\n                {this.renderPages()}\n              </details>\n            </Col>\n            <Col md={20}>\n              {store.selectedPost && content !== null ? (\n                <MarkdownEdit content={content} />\n              ) : (\n                <NonIdealState\n                  style={{ height: \"87vh\" }}\n                  icon={\"build\"}\n                  title=\"Getting Started\"\n                  description={\"Please select a post to edit\"}\n                />\n              )}\n            </Col>\n          </Row>\n        </Content>\n      </Panel>\n    );\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flex: 1,\n          flexDirection: \"row\",\n          minHeight: \"100vh\",\n        }}\n      >\n        <SideMenu\n          activeKey={\"1\"}\n          style={{ flex: 1, flexShrink: 1, flexGrow: 0 }}\n        />\n        <div style={{ display: \"flex\", flex: 1, flexDirection: \"row\" }}>\n          <Container className=\"calliope-admin\">\n            <NavBar\n              isAdmin={true}\n              isLogin={false}\n              renderBrand={this.renderClientSelect}\n              renderBar={() => null}\n              renderRight={() => null}\n            />\n            <Content style={{ marginTop: \"3em\" }}>{this.renderPanel()}</Content>\n          </Container>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default collect(Dashboard);\n","/*                                            *\\\n** ------------------------------------------ **\n**         Calliope - Site Generator   \t      **\n** ------------------------------------------ **\n**  Copyright (c) 2020 - Kyle Derby MacInnis  **\n**                                            **\n** Any unauthorized distribution or transfer  **\n**    of this work is strictly prohibited.    **\n**                                            **\n**           All Rights Reserved.             **\n** ------------------------------------------ **\n\\*                                            */\n\n// Import HTTP Classes\n// ...\n//\nimport Authenticator from './authHelper';\nimport {logout} from '../services/auth';\n\nvar location : Location;\n\n// API Helper Class\nclass ApiHelper {\n\n    static host: string = process.env.ADMIN_HOST || \"http://localhost\"\n    static port: number = parseInt(process.env.ADMIN_PORT || \"8088\")\n    static ver: string = process.env.API_VERSION || \"v1\"\n\n    static get = async (path: string, queryObj: any = {}) => {\n        const requestOptions = {\n            method: 'GET',\n            headers: Authenticator.authHeader()\n        };\n        let query = Object.keys(queryObj).map((x) => '' + x + '=' + URLEncode(queryObj[x])).join('&') || '';\n        return fetch(`${ApiHelper.host}:${ApiHelper.port}/api/${ApiHelper.ver}${path}?${query}`, requestOptions).then(handleResponse);\n    }\n\n    static post = async (path: string, bodyObj: any = {}) => {\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json', ...Authenticator.authHeader() },\n            body: JSON.stringify(bodyObj)\n        };\n        return fetch(`${ApiHelper.host}:${ApiHelper.port}/api/${ApiHelper.ver}${path}`, requestOptions).then(handleResponse);\n    }\n\n    // put\n\n    // delete\n\n    // head\n}\n\n\nasync function handleResponse(response:Response) {\n    return response.text().then(async text => {\n        if (response.status === 401) {\n            // auto logout if 401 response returned from api\n            if(location && (location.pathname === \"/login\" || location.pathname === \"/logout\")){\n                await logout();\n            }else{\n                await logout();\n                location && location.reload();\n            }\n        }else{\n            const data = text && JSON.parse(text);\n            if (!response.ok) {\n                const error = (data && data.message) || response.statusText;\n                return Promise.reject(error);\n            }\n            return data;\n        }\n    });\n}\n\nexport function previewFile(file:File, callback:any) {\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      callback(reader.result);\n    };\n    reader.readAsDataURL(file);\n  }\n\nexport function URLEncode(str: string) {\n    // TODO\n    return str;\n}\n\nexport default ApiHelper","/*                                            *\\\n** ------------------------------------------ **\n**         Calliope - Site Generator   \t      **\n** ------------------------------------------ **\n**  Copyright (c) 2020 - Kyle Derby MacInnis  **\n**                                            **\n** Any unauthorized distribution or transfer  **\n**    of this work is strictly prohibited.    **\n**                                            **\n**           All Rights Reserved.             **\n** ------------------------------------------ **\n\\*                                            */\n\nimport ApiHelper from '../helpers/apiHelper';\nimport AuthHelper from '../helpers/authHelper';\n\nexport async function check() {\n    return ApiHelper.get(`/auth`)\n    .then((user:any) => {\n        // login successful if there's a response object in the response\n        if (user) {\n            sessionStorage.setItem('user', JSON.stringify(user));\n            localStorage.setItem('user', JSON.stringify(user));\n        }\n        return {\n            isAuth: AuthHelper.isAuthenticated(),\n        };\n    });\n}\n\nexport async function login(username: string, password:string) {\n    const reqBody = { username, password };\n    return ApiHelper.post(`/auth/login`, reqBody)\n    .then((user:any) => {\n        // login successful if there's a user in the response\n        if (user) {\n            user.authdata = JSON.stringify(user);\n            localStorage.setItem('user', JSON.stringify(user));\n            sessionStorage.setItem('user', JSON.stringify(user));\n        }\n        return user;\n    });\n}\n\nexport async function logout() {\n    return ApiHelper.post(`/auth/logout`)\n    .then(()=>{\n        localStorage.removeItem('user');\n        sessionStorage.removeItem('user');\n    })\n\n}\n\nexport async function getAll() {\n    return await ApiHelper.get(`/users`);\n}\n\n","/*                                                 *\\\n** ----------------------------------------------- **\n**             Calliope - Site Generator   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2021 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport React from \"react\";\nimport SplashScreen from \"./splash\";\n// ASSETS & APP STYLES\nimport \"../../theme/less/App.less\";\n// Splash Screen\nexport default function withSplashScreen(WrappedComponent) {\n  return class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        loading: true,\n      };\n    }\n    async componentDidMount() {\n      try {\n        setTimeout(() => {\n          this.setState({\n            loading: false,\n          });\n        }, 5500);\n      } catch (err) {\n        console.log(err);\n        this.setState({\n          loading: false,\n        });\n      }\n    }\n    render() {\n      if (this.state.loading) return <SplashScreen></SplashScreen>;\n      return <WrappedComponent {...this.props} />;\n    }\n  };\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**             Calliope - Site Generator   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2021 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport React from \"react\";\nimport { collect, store } from \"react-recollect\";\n// BLUEPRINT STYLES\nimport {\n  InputGroup,\n  FormGroup,\n  Card,\n  Classes,\n  Intent,\n  ProgressBar,\n  Button,\n  Callout,\n} from \"@blueprintjs/core\";\n\n// BLUEPRINT STYLES\nimport \"@blueprintjs/core/lib/css/blueprint.css\";\nimport \"@blueprintjs/icons/lib/css/blueprint-icons.css\";\n\n// RSuite UI Library\nimport {\n  Container,\n  Header,\n  Navbar,\n  Content,\n  Sidebar,\n  FlexboxGrid,\n  Panel,\n  Form,\n  ButtonToolbar,\n  Footer,\n} from \"rsuite\";\nimport \"rsuite/dist/styles/rsuite-dark.css\";\n\n// ASSETS & APP STYLES\nimport logo from \"../../assets/logo.svg\";\nimport \"../../theme/less/App.less\";\n\nimport { login, logout, getAll, check } from \"../../services/auth\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      submitted: false,\n      loading: false,\n      error: \"\",\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  async componentDidMount() {\n    let auth = await check();\n    store.auth = auth;\n    console.log(auth);\n    if (auth.isAuth) {\n      const { from } = { from: { pathname: \"/\" } };\n      this.props.history.push(from);\n    }\n  }\n\n  handleChange(e) {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n\n    this.setState({ submitted: true });\n    const { username, password } = this.state;\n\n    // stop here if form is invalid\n    if (!(username && password)) {\n      return;\n    }\n\n    this.setState({ loading: true });\n    login(username, password).then(\n      (user) => {\n        console.log(user);\n        const { from } = this.props.location.state || {\n          from: { pathname: \"/admin\" },\n        };\n        this.props.history.push(from);\n      },\n      (error) => {\n        console.log(error);\n        const { from } = this.props.location.state || {\n          from: { pathname: \"/login\" },\n        };\n        this.props.history.push(from);\n      }\n    );\n  }\n\n  render() {\n    const { username, password, submitted, loading, error } = this.state;\n    return (\n      <Container\n        className={\"container\"}\n        style={{\n          background: \"linear-gradient(45deg, rgba(37, 1, 63, 0.52), black)\",\n        }}\n      >\n        <Header></Header>\n        <Content>\n          <FlexboxGrid justify=\"center\">\n            <FlexboxGrid.Item colspan={24}>\n              <div\n                className=\"App-splash\"\n                style={{ backgroundColor: \"transparent\" }}\n              >\n                <Panel bodyFill>\n                  <Container style={{ backgroundColor: \"#30404d\" }}>\n                    <Sidebar style={{ width: \"320px\" }}>\n                      <img\n                        src={logo}\n                        height=\"320\"\n                        style={{\n                          background: \"linear-gradient(45deg, rgba(10,10,10,0.5), black)\",\n                        }}\n                      />\n                    </Sidebar>\n                    <Container style={{ width: \"320px\" }}>\n                      <Content style={{ padding: \"1em\" }}>\n                        <Form fluid onSubmit={this.handleSubmit}>\n                          <FormGroup\n                            label=\"Username or email address\"\n                            helperText={\n                              submitted && !username && \"Username is required\"\n                            }\n                          >\n                            <InputGroup\n                              className={\n                                submitted && !username\n                                  ? Classes.INTENT_DANGER\n                                  : \"\"\n                              }\n                              leftIcon=\"user\"\n                              type=\"text\"\n                              name=\"username\"\n                              value={username}\n                              onChange={this.handleChange}\n                            />\n                          </FormGroup>\n                          <FormGroup\n                            label=\"Password\"\n                            helperText={\n                              submitted && !password && \"Password is required\"\n                            }\n                          >\n                            <InputGroup\n                              className={\n                                submitted && !password\n                                  ? Classes.INTENT_DANGER\n                                  : \"\"\n                              }\n                              leftIcon=\"lock\"\n                              type=\"password\"\n                              name=\"password\"\n                              value={password}\n                              onChange={this.handleChange}\n                            />\n                          </FormGroup>\n                          <FormGroup>\n                            <ButtonToolbar>\n                              <Button\n                                // onClick={this.handleSubmit}\n                                disabled={loading}\n                              >\n                                Login\n                              </Button>\n                              <Button minimal>Forgot password?</Button>\n                            </ButtonToolbar>\n                          </FormGroup>\n                          {/* IF ERROR */}\n                          {error && (\n                            <Callout intent={Intent.DANGER} title=\"Error\">\n                              {error}\n                            </Callout>\n                          )}\n                        </Form>\n                      </Content>\n                    </Container>\n                  </Container>\n                </Panel>\n              </div>\n            </FlexboxGrid.Item>\n          </FlexboxGrid>\n        </Content>\n      </Container>\n    );\n  }\n}\n\nexport default collect(Login);\n","/*                                                 *\\\n** ----------------------------------------------- **\n**             Calliope - Site Generator   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2021 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\n\nimport React from \"react\";\nimport { collect } from \"react-recollect\";\n\n// BLUEPRINT STYLES\nimport \"@blueprintjs/core/lib/css/blueprint.css\";\nimport \"@blueprintjs/icons/lib/css/blueprint-icons.css\";\n\n// RSuite UI Library\nimport {\n  Container,\n  Header,\n  Content,\n  Sidebar,\n  FlexboxGrid,\n  Panel,\n} from \"rsuite\";\nimport \"rsuite/dist/styles/rsuite-default.css\";\n\n// ASSETS & APP STYLES\nimport Logo from \"../../assets/logo.svg\";\nimport \"../../theme/less/App.less\";\n\nimport { logout } from \"../../services/auth\";\n\nclass Logout extends React.Component {\n  async componentDidMount() {\n    try {\n      await logout();\n    } finally {\n      const { from } = this.props.location.state || {\n        from: { pathname: \"/home\" },\n      };\n      this.props.history.push(from);\n    }\n  }\n  render() {\n    return (\n      <Container\n        style={{\n          background: \"linear-gradient(45deg, rgba(37, 1, 63, 0.52), black)\",\n        }}\n      >\n        <Header></Header>\n        <Content>\n          <FlexboxGrid justify=\"center\">\n            <FlexboxGrid.Item colspan={24}>\n              <div\n                className=\"App-splash\"\n                style={{ backgroundColor: \"transparent\" }}\n              >\n                <Panel bodyFill>\n                  <Container style={{ backgroundColor: \"#30404d\" }}>\n                    <Sidebar style={{ width: \"320px\" }}>\n                      <img\n                        src={Logo}\n                        height=\"320\"\n                        style={{\n                          background: \"linear-gradient(45deg,indigo,black)\",\n                        }}\n                      />\n                    </Sidebar>\n                    <Container style={{ width: \"320px\" }}>\n                      <Content style={{ padding: \"1em\" }}>\n                        Please Wait - Returning to Login\n                      </Content>\n                    </Container>\n                  </Container>\n                </Panel>\n              </div>\n            </FlexboxGrid.Item>\n          </FlexboxGrid>\n        </Content>\n      </Container>\n    );\n  }\n}\n\nexport default collect(Logout);\n","/*                                                 *\\\n** ----------------------------------------------- **\n**             Calliope - Site Generator   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2021 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport React from \"react\";\nimport { collect, store } from \"react-recollect\";\n\n// RSuite UI Library\nimport {\n  Container,\n  Content,\n  Row,\n  Col,\n  Notification,\n  Placeholder,\n} from \"rsuite\";\nimport \"rsuite/dist/styles/rsuite-default.css\";\n\n// BLUEPRINT STYLES\nimport { Intent, Callout } from \"@blueprintjs/core\";\n// BLUEPRINT STYLES\nimport \"@blueprintjs/core/lib/css/blueprint.css\";\nimport \"@blueprintjs/icons/lib/css/blueprint-icons.css\";\n\nimport NavBar from \"../../components/nav\";\nimport SideMenu from \"../../components/menu\";\nimport Post from \"../../components/post\";\n// ASSETS & APP STYLES\nimport \"../../theme/less/App.less\";\n\n//SERVICES\nimport { posts } from \"../../services/content\";\n\nconst { Paragraph } = Placeholder;\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderPosts() {\n    return (\n      <React.Fragment>\n        <Container>\n          <Content>\n            {store.posts &&\n              store.posts?.map((post) => {\n                return (\n                  <Row>\n                    <Container className=\"calliope-list-item\">\n                      <Post src={`posts/${post}`} />\n                    </Container>\n                  </Row>\n                );\n              })}\n          </Content>\n        </Container>\n      </React.Fragment>\n    );\n  }\n\n  async componentDidMount() {\n    // Fetch & Render Posts\n    const result = await posts();\n    if (result) {\n      store.posts = result;\n      setTimeout(\n        () =>\n          Notification.open({\n            title: \"Welcome to Calliope\",\n            description: <Paragraph width={320} rows={3} />,\n          }),\n        ~~(Math.random() * 10000)\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flex: 1,\n          flexDirection: \"row\",\n          minHeight: \"100vh\",\n        }}\n      >\n        <SideMenu\n          activeKey={\"1\"}\n          style={{ flex: 1, flexShrink: 1, flexGrow: 0 }}\n        />\n        <div style={{ display: \"flex\", flex: 1, flexDirection: \"row\" }}>\n          <Container className=\"calliope-container\">\n            <NavBar\n              isLogin={false}\n              renderBrand={this.renderClientSelect}\n              renderBar={() => null}\n              renderRight={() => null}\n            />\n            <Content>{this.renderPosts()}</Content>\n          </Container>\n        </div>\n        {/* MEETING sidebar */}\n      </div>\n    );\n  }\n}\n\nexport default collect(Dashboard);\n","/*                                            *\\\n** ------------------------------------------ **\n**         Calliope - Site Generator   \t      **\n** ------------------------------------------ **\n**  Copyright (c) 2020 - Kyle Derby MacInnis  **\n**                                            **\n** Any unauthorized distribution or transfer  **\n**    of this work is strictly prohibited.    **\n**                                            **\n**           All Rights Reserved.             **\n** ------------------------------------------ **\n\\*                                            */\n\nimport React, { useRef, useEffect } from \"react\";\n\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\n// External Style Frameworks (RSuite / BlueprintJS)\nimport \"rsuite/dist/styles/rsuite-default.css\";\n// BLUEPRINT STYLES\nimport \"@blueprintjs/core/lib/css/blueprint.css\";\nimport \"@blueprintjs/icons/lib/css/blueprint-icons.css\";\n\n// ASSETS & APP STYLES\nimport \"./theme/less/App.less\";\n\n// HELPERS\nimport withSplashScreen from \"./modules/utils/splashWrapper\";\n\n// ROUTER\nimport { AuthenticatedRoute } from \"./modules/utils/authRouter\";\n\n// PUBLIC SCREENS\nimport PublicScreen from \"./modules/home\";\n\n// ADMIN SCREENS\nimport LoginScreen from \"./modules/login\";\nimport LogoutScreen from \"./modules/login/logout\";\nimport AdminScreen from \"./modules/admin\";\n\nimport { initializeTheme, onResize } from \"./theme\";\n\n// APP\nconst App = () => {\n  // Initialize Canvas for Theme\n  const ref = useRef();\n  const date = new Date().toDateString();\n\n  useEffect(() => {\n    let canvas = ref.current;\n    initializeTheme(canvas);\n  });\n\n  // Return Themed Site\n  return (\n    <React.Fragment>\n      {/* background Canvas - For Special Animations - TODO - Issues with Sizing*/}\n      <canvas style={{ width: \"100%\", height: \"100%\" }} ref={ref} />\n      {/* Pre-Special Effects - TODO -- Issues w sizing*/}\n      <div class=\"specialEffect1\"></div>\n      <div class=\"specialEffect2\"></div>\n      <div class=\"specialEffect3\"></div>\n      {/* Main Site Container */}\n      <div className=\"calliope-admin\">\n        <Router>\n          <Switch>\n            <AuthenticatedRoute exact path=\"/admin\" component={AdminScreen} />\n            <AuthenticatedRoute path=\"/logout\" component={LogoutScreen} />\n            <Route exact path=\"/login\" component={LoginScreen} />\n            <Route path=\"*\" component={PublicScreen} />\n          </Switch>\n        </Router>\n      </div>\n      {/* Post-Special Effects */}\n      <div class=\"specialEffect4\"></div>\n      <div class=\"specialEffect5\"></div>\n      <div class=\"specialEffect6\"></div>\n      {/* Powered by Calliope and Date */}\n      <p class=\"f\">\n        <span id=\"date\">\n          <a target=\"_blank\" href=\"https://www.calliope.site\">\n            powered by Calliope ⚡⚡⚡\n          </a>{\" \"}\n          {date}\n        </span>\n      </p>\n    </React.Fragment>\n  );\n};\n\nexport default withSplashScreen(App);\n","/*                                            *\\\n** ------------------------------------------ **\n**         Calliope - Site Generator   \t      **\n** ------------------------------------------ **\n**  Copyright (c) 2020 - Kyle Derby MacInnis  **\n**                                            **\n** Any unauthorized distribution or transfer  **\n**    of this work is strictly prohibited.    **\n**                                            **\n**           All Rights Reserved.             **\n** ------------------------------------------ **\n\\*                                            */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/*                                            *\\\n** ------------------------------------------ **\n**         Calliope - Site Generator   \t      **\n** ------------------------------------------ **\n**  Copyright (c) 2020 - Kyle Derby MacInnis  **\n**                                            **\n** Any unauthorized distribution or transfer  **\n**    of this work is strictly prohibited.    **\n**                                            **\n**           All Rights Reserved.             **\n** ------------------------------------------ **\n\\*                                            */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './theme/less/index.less';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","// Techno Cyberpunk Mode (Can be set in config)\n//\nconst fonts = [\n  \"https://fonts.googleapis.com/css?family=Rock+Salt\",\n  \"https://fonts.googleapis.com/css?family=Orbitron\",\n];\n\n// Dark Mode Colours\nconst dark = {\n  // Colours\n  primaryColor: \"rgba(37, 1, 63, 0.52)\",\n  secondaryColor: \"#ab00aa77\",\n  dark: \"#222\",\n  textColor: \"hotpink\",\n  linkColor: \"hsl( 300deg, 20%, 50% )\",\n\n  // Grays\n  darkGray: \"#444\",\n  midGray: \"#777\",\n  lightGray: \"#aaa\",\n  slateGray: \"#30404d\",\n\n  // Mid Tones\n  coldGray: \"#455\",\n  rustGray: \"#544\",\n  warmGray: \"#664\",\n\n  // Gradients\n  primaryGrad: \"linear-gradient(45deg, @primaryColor, black)\",\n  secondaryGrad: \"linear-gradient(45deg,indigo,black)\",\n};\n\n// Light Mode (Default)\nconst light = {\n  // Colours\n  primaryColor: \"#5BBFBA\",\n  secondaryColor: \"#5F6CAF\",\n  dark: \"#222\",\n  textColor: \"#111\",\n  linkColor: \"#61dafb\",\n\n  // Mid Tones\n  green: \"#A4D4AE\",\n  orange: \"#F0CF85\",\n  yellow: \"#E7F0C3\",\n\n  // Grays\n  darkGray: \"#444\",\n  midGray: \"#777\",\n  lightGray: \"#aaa\",\n  slateGray: \"#30404d\",\n\n  // Gradients\n  primaryGrad: \"linear-gradient(45deg, #5BBFBA, #5F6CAF)\",\n  secondaryGrad: \"linear-gradient(45deg,#5F6CAF,white)\",\n};\n\n// Theme Initialization Hook\nconst initializeTheme = (c) => {\n  var w = (c.width = window.innerWidth),\n    h = (c.height = window.innerHeight),\n    ctx = c.getContext(\"2d\"),\n    minDist = 10,\n    maxDist = 30,\n    initialWidth = 10,\n    maxLines = 100,\n    initialLines = 4,\n    speed = 5,\n    lines = [],\n    frame = 0,\n    timeSinceLast = 0,\n    dirs = [\n      // straight x, y velocity\n      [0, 1],\n      [1, 0],\n      [0, -1],\n      [-1, 0],\n      // diagonals, 0.7 = sin(PI/4) = cos(PI/4)\n      [0.7, 0.7],\n      [0.7, -0.7],\n      [-0.7, 0.7],\n      [-0.7, -0.7],\n    ],\n    starter = {\n      x: w / 2,\n      y: h / 2,\n      vx: 0,\n      vy: 0,\n      width: initialWidth,\n    };\n  // Initialize Canvas\n  function init() {\n    lines.length = 0;\n\n    for (var i = 0; i < initialLines; ++i) lines.push(new Line(starter));\n\n    ctx.fillStyle = \"#222\";\n    ctx.fillRect(0, 0, w, h);\n\n    // if you want a cookie ;)\n    ctx.lineCap = \"round\";\n  }\n  // Get Techno Colour\n  function getColor(x) {\n    return \"hsl( hue, 20%, 50% )\".replace(\"hue\", (x / w) * 360 + frame);\n  }\n  // Animate\n  function anim() {\n    // Animate at refresh Framerate\n    window.requestAnimationFrame(anim);\n    ++frame;\n    // Random Colours\n    let a = ~~(Math.random() * 5);\n    let b = ~~(Math.random() * 12);\n    let d = ~~(Math.random() * 20);\n    let c = ~~(Math.random() * 0.01) + 0.05;\n    // Styling Lines\n    ctx.shadowBlur = 0;\n    ctx.fillStyle = `rgba(${a},${b},${d},${c})`;\n    ctx.fillRect(0, 0, w, h);\n    ctx.shadowBlur = 30;\n    // Draw\n    for (var i = 0; i < lines.length; ++i)\n      if (lines[i].step()) {\n        lines.splice(i, 1);\n        --i;\n      }\n    // Add Additional Lines\n    ++timeSinceLast;\n    if (lines.length < maxLines && timeSinceLast > 10 && Math.random() < 0.5) {\n      timeSinceLast = 0;\n      lines.push(new Line(starter));\n      ctx.fillStyle = ctx.shadowColor = getColor(starter.x);\n      ctx.beginPath();\n      ctx.fill();\n    }\n  }\n  // Draw Line\n  function Line(parent) {\n    this.x = parent.x | (~~(Math.random() * w) - w / 2);\n    this.y = parent.y | (~~(Math.random() * h) / 3);\n    this.width = parent.width / 1.25;\n\n    do {\n      var dir = dirs[(Math.random() * dirs.length) | 0];\n      this.vx = dir[0];\n      this.vy = dir[1];\n    } while (\n      (this.vx === -parent.vx && this.vy === -parent.vy) ||\n      (this.vx === parent.vx && this.vy === parent.vy)\n    );\n\n    this.vx *= speed;\n    this.vy *= speed;\n\n    this.dist = Math.random() * (maxDist - minDist) + minDist;\n  }\n  // Line Progress\n  Line.prototype.step = function () {\n    var dead = false;\n    var prevX = this.x,\n      prevY = this.y;\n    this.x += this.vx;\n    this.y += this.vy;\n    --this.dist;\n    // Decide New Positions\n    if (this.x < 0 || this.x > w || this.y < 0 || this.y > h) dead = true;\n    if (this.dist <= 0 && this.width > 1) {\n      this.dist = Math.random() * (maxDist - minDist) + minDist;\n      if (lines.length < maxLines) lines.push(new Line(this));\n      if (lines.length < maxLines && Math.random() < 0.5)\n        lines.push(new Line(this));\n      if (Math.random() < 0.2) dead = true;\n    }\n    // Stroke\n    ctx.strokeStyle = ctx.shadowColor = getColor(this.x);\n    ctx.beginPath();\n    ctx.lineWidth = this.width;\n    ctx.moveTo(this.x, this.y);\n    ctx.lineTo(prevX, prevY);\n    ctx.stroke();\n    if (dead) return true;\n  };\n  // Start Automatically\n  init();\n  anim();\n  // Refresh on Resize Events\n  window.addEventListener(\"resize\", function () {\n    w = c.width = window.innerWidth;\n    h = c.height = window.innerHeight;\n    starter.x = ~~(Math.random() * w) / 2;\n    starter.y = ~~(Math.random() * h) / 2;\n    init();\n  });\n};\n\n// Resize Canvas\nconst onResize = (c) => {\n  c.width = window.innerWidth;\n  c.height = window.innerHeight;\n  console.log(window);\n  initializeTheme(c);\n};\n\nmodule.exports = {\n  light,\n  dark,\n  fonts,\n  initializeTheme,\n  onResize,\n};\n"],"sourceRoot":""}